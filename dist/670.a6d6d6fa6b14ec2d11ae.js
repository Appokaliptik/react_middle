"use strict";(self.webpackChunkreact_middle=self.webpackChunkreact_middle||[]).push([[670],{8670:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ge});var r,a=n(5893),o=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.validateErrors},i=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.form},l=n(7168);!function(e){e.INCORRECT_USER_DATA="INCORRECT_USER_DATA",e.INCORRECT_AGE="INCORRECT_AGE",e.INCORRECT_CITY="INCORRECT_CITY",e.NO_DATA="NO_DATA",e.SERVER_ERROR="SERVER_ERROR"}(r||(r={}));var u,s=(0,l.hg)("profile/updateProfileData",(function(e,t){return n=void 0,a=void 0,l=function(){var e,n,a,o,l,u,s;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){i.label=l[1];break}if(6===l[0]&&i.label<a[1]){i.label=a[1],a=l;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(l);break}a[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}(this,(function(c){switch(c.label){case 0:if(e=t.extra,n=t.rejectWithValue,a=t.getState,o=i(a()),(l=function(e){if(!e)return[r.NO_DATA];var t=e.first,n=e.lastname,a=e.age,o=e.city,i=[];return t&&n||i.push(r.INCORRECT_USER_DATA),(!a||a<18||a>100)&&i.push(r.INCORRECT_AGE),o||i.push(r.INCORRECT_CITY),i}(o)).length)return[2,n(l)];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,e.api.put("/profile/".concat(null==o?void 0:o.id),o)];case 2:if(!(u=c.sent()).data)throw new Error;return[2,u.data];case 3:return s=c.sent(),console.log(s),[2,n([r.SERVER_ERROR])];case 4:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function r(e){try{u(l.next(e))}catch(e){t(e)}}function i(e){try{u(l.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(r,i)}u((l=l.apply(n,a||[])).next())}));var n,a,o,l})),c=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.data},d=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.error},p=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.isLoading},f=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.readonly},v=(0,l.hg)("profile/fetchProfileData",(function(e,t){return n=void 0,r=void 0,o=function(){var n,r,a,o;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){i.label=l[1];break}if(6===l[0]&&i.label<a[1]){i.label=a[1],a=l;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(l);break}a[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}(this,(function(i){switch(i.label){case 0:n=t.extra,r=t.rejectWithValue,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.api.get("/profile/".concat(e))];case 2:if(!(a=i.sent()).data)throw new Error;return[2,a.data];case 3:return o=i.sent(),console.log(o),[2,r("error")];case 4:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function i(e){try{u(o.next(e))}catch(e){t(e)}}function l(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,l)}u((o=o.apply(n,r||[])).next())}));var n,r,a,o})),h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},h.apply(this,arguments)},b=(0,l.oM)({name:"profile",initialState:{data:void 0,isLoading:!1,readonly:!0,error:void 0},reducers:{setReadonly:function(e,t){e.readonly=t.payload},cancelEdit:function(e){e.readonly=!0,e.form=e.data,e.validateErrors=void 0},updateProfile:function(e,t){e.form=h(h({},e.form),t.payload)}},extraReducers:function(e){e.addCase(v.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(v.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload,e.form=t.payload})).addCase(v.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload})).addCase(s.pending,(function(e){e.validateErrors=void 0,e.isLoading=!0})).addCase(s.fulfilled,(function(e,t){e.isLoading=!1,e.data=t.payload,e.form=t.payload,e.readonly=!0,e.validateErrors=void 0})).addCase(s.rejected,(function(e,t){e.isLoading=!1,e.validateErrors=t.payload}))}}),g=b.actions,x=b.reducer;!function(e){e.Russia="Russia",e.Belarus="Belarus",e.Ukraine="Ukraine",e.Kazakhstan="Kazahstan",e.Armenia="Armenia"}(u||(u={}));var y=n(7294),m=n(9887),R=n(3838),O=n(4192),C=n(5910),E=n(6723),T=n(3855);function S(e,t){let[n,r]=(0,y.useState)(e),a=(0,T.E)(e);return(0,E.e)((()=>r(a.current)),[a,r,...t]),n}var j,I=n(3784),w=n(5394),L=n(2984),N=n(2720),P=n(1363),A=n(1497),k=n(4103),D=n(4575),U=n(6567),z=n(4157),M=n(3986),_=((j=_||{})[j.None=1]="None",j[j.Focusable=2]="Focusable",j[j.Hidden=4]="Hidden",j);let F=(0,w.yV)((function(e,t){let{features:n=1,...r}=e,a={ref:t,"aria-hidden":2==(2&n)||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...4==(4&n)&&2!=(2&n)&&{display:"none"}}};return(0,w.sY)({ourProps:a,theirProps:r,slot:{},defaultTag:"div",name:"Hidden"})}));function V(e={},t=null,n=[]){for(let[r,a]of Object.entries(e))B(n,G(t,r),a);return n}function G(e,t){return e?e+"["+t+"]":t}function B(e,t,n){if(Array.isArray(n))for(let[r,a]of n.entries())B(e,G(t,r.toString()),a);else n instanceof Date?e.push([t,n.toISOString()]):"boolean"==typeof n?e.push([t,n?"1":"0"]):"string"==typeof n?e.push([t,n]):"number"==typeof n?e.push([t,`${n}`]):null==n?e.push([t,""]):V(n,t,e)}var Y,W,$=n(5466),Q=n(3781),K=n(476),H=((W=H||{})[W.Open=0]="Open",W[W.Closed=1]="Closed",W),Z=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Z||{}),J=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(J||{}),q=((Y=q||{})[Y.OpenListbox=0]="OpenListbox",Y[Y.CloseListbox=1]="CloseListbox",Y[Y.GoToOption=2]="GoToOption",Y[Y.Search=3]="Search",Y[Y.ClearSearch=4]="ClearSearch",Y[Y.RegisterOption=5]="RegisterOption",Y[Y.UnregisterOption=6]="UnregisterOption",Y[Y.RegisterLabel=7]="RegisterLabel",Y);function X(e,t=(e=>e)){let n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,r=(0,D.z2)(t(e.options.slice()),(e=>e.dataRef.current.domRef.current)),a=n?r.indexOf(n):null;return-1===a&&(a=null),{options:r,activeOptionIndex:a}}let ee={1:e=>e.dataRef.current.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1},0(e){if(e.dataRef.current.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex((e=>n(e.dataRef.current.value)));return-1!==r&&(t=r),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var n;if(e.dataRef.current.disabled||1===e.listboxState)return e;let r=X(e),a=(0,A.d)(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:a,activationTrigger:null!=(n=t.trigger)?n:1}},3:(e,t)=>{if(e.dataRef.current.disabled||1===e.listboxState)return e;let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),a=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find((e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))})),o=a?e.options.indexOf(a):-1;return-1===o||o===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:o,activationTrigger:1}},4:e=>e.dataRef.current.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=X(e,(e=>[...e,n]));return null===e.activeOptionIndex&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=X(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},te=(0,y.createContext)(null);function ne(e){let t=(0,y.useContext)(te);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ne),t}return t}te.displayName="ListboxActionsContext";let re=(0,y.createContext)(null);function ae(e){let t=(0,y.useContext)(re);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ae),t}return t}function oe(e,t){return(0,L.E)(t.type,ee,e,t)}re.displayName="ListboxDataContext";let ie=y.Fragment,le=w.AN.RenderStrategy|w.AN.Static,ue=(0,w.yV)((function(e,t){let{value:n,defaultValue:r,name:a,onChange:o,by:i=((e,t)=>e===t),disabled:l=!1,horizontal:u=!1,multiple:s=!1,...c}=e;const d=u?"horizontal":"vertical";let p=(0,I.T)(t),[f=(s?[]:void 0),v]=function(e,t,n){let[r,a]=(0,y.useState)(n),o=void 0!==e,i=(0,y.useRef)(o),l=(0,y.useRef)(!1),u=(0,y.useRef)(!1);return!o||i.current||l.current?!o&&i.current&&!u.current&&(u.current=!0,i.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(l.current=!0,i.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[o?e:r,(0,Q.z)((e=>(o||a(e),null==t?void 0:t(e))))]}(n,o,r),[h,b]=(0,y.useReducer)(oe,{dataRef:(0,y.createRef)(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),g=(0,y.useRef)({static:!1,hold:!1}),x=(0,y.useRef)(null),m=(0,y.useRef)(null),R=(0,y.useRef)(null),C=(0,Q.z)("string"==typeof i?(e,t)=>{let n=i;return(null==e?void 0:e[n])===(null==t?void 0:t[n])}:i),T=(0,y.useCallback)((e=>(0,L.E)(S.mode,{1:()=>f.some((t=>C(t,e))),0:()=>C(f,e)})),[f]),S=(0,y.useMemo)((()=>({...h,value:f,disabled:l,mode:s?1:0,orientation:d,compare:C,isSelected:T,optionsPropsRef:g,labelRef:x,buttonRef:m,optionsRef:R})),[f,l,s,h]);(0,E.e)((()=>{h.dataRef.current=S}),[S]),(0,M.O)([S.buttonRef,S.optionsRef],((e,t)=>{var n;b({type:1}),(0,D.sP)(t,D.tJ.Loose)||(e.preventDefault(),null==(n=S.buttonRef.current)||n.focus())}),0===S.listboxState);let j=(0,y.useMemo)((()=>({open:0===S.listboxState,disabled:l,value:f})),[S,l,f]),N=(0,Q.z)((e=>{let t=S.options.find((t=>t.id===e));t&&W(t.dataRef.current.value)})),P=(0,Q.z)((()=>{if(null!==S.activeOptionIndex){let{dataRef:e,id:t}=S.options[S.activeOptionIndex];W(e.current.value),b({type:2,focus:A.T.Specific,id:t})}})),k=(0,Q.z)((()=>b({type:0}))),z=(0,Q.z)((()=>b({type:1}))),G=(0,Q.z)(((e,t,n)=>e===A.T.Specific?b({type:2,focus:A.T.Specific,id:t,trigger:n}):b({type:2,focus:e,trigger:n}))),B=(0,Q.z)(((e,t)=>(b({type:5,id:e,dataRef:t}),()=>b({type:6,id:e})))),Y=(0,Q.z)((e=>(b({type:7,id:e}),()=>b({type:7,id:null})))),W=(0,Q.z)((e=>(0,L.E)(S.mode,{0:()=>null==v?void 0:v(e),1(){let t=S.value.slice(),n=t.findIndex((t=>C(t,e)));return-1===n?t.push(e):t.splice(n,1),null==v?void 0:v(t)}}))),$=(0,Q.z)((e=>b({type:3,value:e}))),K=(0,Q.z)((()=>b({type:4}))),H=(0,y.useMemo)((()=>({onChange:W,registerOption:B,registerLabel:Y,goToOption:G,closeListbox:z,openListbox:k,selectActiveOption:P,selectOption:N,search:$,clearSearch:K})),[]),Z={ref:p},J=(0,y.useRef)(null),q=(0,O.G)();return(0,y.useEffect)((()=>{J.current&&void 0!==r&&q.addEventListener(J.current,"reset",(()=>{W(r)}))}),[J,W]),y.createElement(te.Provider,{value:H},y.createElement(re.Provider,{value:S},y.createElement(U.up,{value:(0,L.E)(S.listboxState,{0:U.ZM.Open,1:U.ZM.Closed})},null!=a&&null!=f&&V({[a]:f}).map((([e,t],n)=>y.createElement(F,{features:_.Hidden,ref:0===n?e=>{var t;J.current=null!=(t=null==e?void 0:e.closest("form"))?t:null}:void 0,...(0,w.oA)({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:e,value:t})}))),(0,w.sY)({ourProps:Z,theirProps:c,slot:j,defaultTag:ie,name:"Listbox"}))))})),se=(0,w.yV)((function(e,t){var n;let r=(0,C.M)(),{id:a=`headlessui-listbox-button-${r}`,...o}=e,i=ae("Listbox.Button"),l=ne("Listbox.Button"),u=(0,I.T)(i.buttonRef,t),s=(0,O.G)(),c=(0,Q.z)((e=>{switch(e.key){case P.R.Space:case P.R.Enter:case P.R.ArrowDown:e.preventDefault(),l.openListbox(),s.nextFrame((()=>{i.value||l.goToOption(A.T.First)}));break;case P.R.ArrowUp:e.preventDefault(),l.openListbox(),s.nextFrame((()=>{i.value||l.goToOption(A.T.Last)}))}})),d=(0,Q.z)((e=>{e.key===P.R.Space&&e.preventDefault()})),p=(0,Q.z)((e=>{if((0,k.P)(e.currentTarget))return e.preventDefault();0===i.listboxState?(l.closeListbox(),s.nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),l.openListbox())})),f=S((()=>{if(i.labelId)return[i.labelId,a].join(" ")}),[i.labelId,a]),v=(0,y.useMemo)((()=>({open:0===i.listboxState,disabled:i.disabled,value:i.value})),[i]),h={ref:u,id:a,type:(0,z.f)(e,i.buttonRef),"aria-haspopup":"listbox","aria-controls":null==(n=i.optionsRef.current)?void 0:n.id,"aria-expanded":i.disabled?void 0:0===i.listboxState,"aria-labelledby":f,disabled:i.disabled,onKeyDown:c,onKeyUp:d,onClick:p};return(0,w.sY)({ourProps:h,theirProps:o,slot:v,defaultTag:"button",name:"Listbox.Button"})})),ce=(0,w.yV)((function(e,t){let n=(0,C.M)(),{id:r=`headlessui-listbox-label-${n}`,...a}=e,o=ae("Listbox.Label"),i=ne("Listbox.Label"),l=(0,I.T)(o.labelRef,t);(0,E.e)((()=>i.registerLabel(r)),[r]);let u=(0,Q.z)((()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),s=(0,y.useMemo)((()=>({open:0===o.listboxState,disabled:o.disabled})),[o]);return(0,w.sY)({ourProps:{ref:l,id:r,onClick:u},theirProps:a,slot:s,defaultTag:"label",name:"Listbox.Label"})})),de=(0,w.yV)((function(e,t){var n;let r=(0,C.M)(),{id:a=`headlessui-listbox-options-${r}`,...o}=e,i=ae("Listbox.Options"),l=ne("Listbox.Options"),u=(0,I.T)(i.optionsRef,t),s=(0,O.G)(),c=(0,O.G)(),d=(0,U.oJ)(),p=null!==d?(d&U.ZM.Open)===U.ZM.Open:0===i.listboxState;(0,y.useEffect)((()=>{var e;let t=i.optionsRef.current;t&&0===i.listboxState&&t!==(null==(e=(0,$.r)(t))?void 0:e.activeElement)&&t.focus({preventScroll:!0})}),[i.listboxState,i.optionsRef]);let f=(0,Q.z)((e=>{switch(c.dispose(),e.key){case P.R.Space:if(""!==i.searchQuery)return e.preventDefault(),e.stopPropagation(),l.search(e.key);case P.R.Enter:if(e.preventDefault(),e.stopPropagation(),null!==i.activeOptionIndex){let{dataRef:e}=i.options[i.activeOptionIndex];l.onChange(e.current.value)}0===i.mode&&(l.closeListbox(),(0,N.k)().nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})})));break;case(0,L.E)(i.orientation,{vertical:P.R.ArrowDown,horizontal:P.R.ArrowRight}):return e.preventDefault(),e.stopPropagation(),l.goToOption(A.T.Next);case(0,L.E)(i.orientation,{vertical:P.R.ArrowUp,horizontal:P.R.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),l.goToOption(A.T.Previous);case P.R.Home:case P.R.PageUp:return e.preventDefault(),e.stopPropagation(),l.goToOption(A.T.First);case P.R.End:case P.R.PageDown:return e.preventDefault(),e.stopPropagation(),l.goToOption(A.T.Last);case P.R.Escape:return e.preventDefault(),e.stopPropagation(),l.closeListbox(),s.nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case P.R.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(l.search(e.key),c.setTimeout((()=>l.clearSearch()),350))}})),v=S((()=>{var e,t,n;return null!=(n=null==(e=i.labelRef.current)?void 0:e.id)?n:null==(t=i.buttonRef.current)?void 0:t.id}),[i.labelRef.current,i.buttonRef.current]),h=(0,y.useMemo)((()=>({open:0===i.listboxState})),[i]),b={"aria-activedescendant":null===i.activeOptionIndex||null==(n=i.options[i.activeOptionIndex])?void 0:n.id,"aria-multiselectable":1===i.mode||void 0,"aria-labelledby":v,"aria-orientation":i.orientation,id:a,onKeyDown:f,role:"listbox",tabIndex:0,ref:u};return(0,w.sY)({ourProps:b,theirProps:o,slot:h,defaultTag:"ul",features:le,visible:p,name:"Listbox.Options"})})),pe=(0,w.yV)((function(e,t){let n=(0,C.M)(),{id:r=`headlessui-listbox-option-${n}`,disabled:a=!1,value:o,...i}=e,l=ae("Listbox.Option"),u=ne("Listbox.Option"),s=null!==l.activeOptionIndex&&l.options[l.activeOptionIndex].id===r,c=l.isSelected(o),d=(0,y.useRef)(null),p=(0,T.E)({disabled:a,value:o,domRef:d,get textValue(){var e,t;return null==(t=null==(e=d.current)?void 0:e.textContent)?void 0:t.toLowerCase()}}),f=(0,I.T)(t,d);(0,E.e)((()=>{if(0!==l.listboxState||!s||0===l.activationTrigger)return;let e=(0,N.k)();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=d.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[d,s,l.listboxState,l.activationTrigger,l.activeOptionIndex]),(0,E.e)((()=>u.registerOption(r,p)),[p,r]);let v=(0,Q.z)((e=>{if(a)return e.preventDefault();u.onChange(o),0===l.mode&&(u.closeListbox(),(0,N.k)().nextFrame((()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})})))})),h=(0,Q.z)((()=>{if(a)return u.goToOption(A.T.Nothing);u.goToOption(A.T.Specific,r)})),b=(0,K.g)(),g=(0,Q.z)((e=>b.update(e))),x=(0,Q.z)((e=>{b.wasMoved(e)&&(a||s||u.goToOption(A.T.Specific,r,0))})),m=(0,Q.z)((e=>{b.wasMoved(e)&&(a||s&&u.goToOption(A.T.Nothing))})),R=(0,y.useMemo)((()=>({active:s,selected:c,disabled:a})),[s,c,a]);return(0,w.sY)({ourProps:{id:r,ref:f,role:"option",tabIndex:!0===a?void 0:-1,"aria-disabled":!0===a||void 0,"aria-selected":c,disabled:void 0,onClick:v,onFocus:h,onPointerEnter:g,onMouseEnter:g,onPointerMove:x,onMouseMove:x,onPointerLeave:m,onMouseLeave:m},theirProps:i,slot:R,defaultTag:"li",name:"Listbox.Option"})})),fe=Object.assign(ue,{Button:se,Label:ce,Options:de,Option:pe});var ve=n(6747),he=function(){return he=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},he.apply(this,arguments)},be={"bottom left":"oFXYv","bottom right":"Jl5DR","top right":"c68gv","top left":"aacUe"};function ge(e){var t=e.className,n=e.items,r=e.defaultValue,o=e.label,i=e.readonly,l=e.value,u=e.onChange,s=e.direction,c=[be[void 0===s?"bottom right":s]];return(0,a.jsxs)(ve.U,he({gap:"8"},{children:[o&&o,(0,a.jsxs)(fe,he({as:"div",className:(0,R.A)("Lsvjv",{},[t]),value:l,onChange:u,disabled:i},{children:[(0,a.jsx)(fe.Button,he({className:"qrO2m"},{children:null!=l?l:r})),(0,a.jsx)(fe.Options,he({className:(0,R.A)("V57wM",{},c)},{children:n.map((function(e){return(0,a.jsx)(fe.Option,he({value:e.value,disabled:e.disabled,as:y.Fragment},{children:function(t){var n,r=t.active,o=t.selected;return(0,a.jsx)("li",he({className:(0,R.A)("mBjSA",(n={},n.lE7ga=r,n.wy24X=o,n.yYTJV=e.disabled,n))},{children:e.content}))}}),e.value)}))}))]}))]}))}var xe,ye=[{value:u.Armenia,content:u.Armenia},{value:u.Belarus,content:u.Belarus},{value:u.Kazakhstan,content:u.Kazakhstan},{value:u.Russia,content:u.Russia},{value:u.Ukraine,content:u.Ukraine}],me=(0,y.memo)((function(e){var t=e.className,n=e.value,r=e.onChange,o=e.readonly,i=e.direction,l=(0,m.$G)("translation").t,u=(0,y.useCallback)((function(e){null==r||r(e)}),[r]);return(0,a.jsx)(ge,{className:(0,R.A)("",{},[t]),value:n,label:l("Country"),onChange:u,items:ye,readonly:o,direction:i})}));!function(e){e.RUB="RUB",e.EUR="EUR",e.USD="USD"}(xe||(xe={}));var Re=[{value:xe.EUR,content:xe.EUR},{value:xe.RUB,content:xe.RUB},{value:xe.USD,content:xe.USD}],Oe=(0,y.memo)((function(e){var t=e.className,n=e.value,r=e.onChange,o=e.readonly,i=e.direction,l=(0,m.$G)("translation").t,u=(0,y.useCallback)((function(e){null==r||r(e)}),[r]);return(0,a.jsx)(ge,{className:(0,R.A)("",{},[t]),value:n,label:l("currency"),onChange:u,items:Re,readonly:o,direction:i})})),Ce=n(9245),Ee=n(3083),Te=n(7559),Se=n(7053);const je={ProfileCard:"wW9jg",editForm:"U9LGH",loading:"t07Zx",error:"i5YK3",avatarWrapper:"bEFNS"};var Ie=function(){return Ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ie.apply(this,arguments)},we=function(e){var t,n=e.className,r=e.data,o=e.isLoading,i=e.error,l=e.readonly,u=e.onChangeFirst,s=e.onChangeLastname,c=e.onChangeAge,d=e.onChangeCity,p=e.onChangeUsername,f=e.onChangeAvatar,v=e.onChangeCountry,h=e.onChangeCurrency,b=(0,m.$G)("profile").t,g=((t={})[je.editForm]=!l,t);return o?(0,a.jsx)(ve.g,Ie({max:!0,justify:"center",align:"center",className:(0,R.A)(je.ProfileCard,{},[n,je.loading])},{children:(0,a.jsx)(Te.a,{})})):i?(0,a.jsx)(ve.g,Ie({max:!0,className:(0,R.A)(je.ProfileCard,{},[n,je.error])},{children:(0,a.jsx)(Se.xv,{theme:Se.lg.ERROR,title:b("profile error"),text:b("profile error text"),align:Se.PH.CENTER})})):(0,a.jsxs)(ve.g,Ie({gap:"16",max:!0,className:(0,R.A)(je.ProfileCard,g,[n])},{children:[(null==r?void 0:r.avatar)&&(0,a.jsx)(ve.U,Ie({justify:"center",className:je.avatarWrapper},{children:(0,a.jsx)(Ce.q,{src:r.avatar})})),(0,a.jsx)(Ee.I,{value:null==r?void 0:r.first,placeholder:b("input firstname"),readonly:l,onChange:u}),(0,a.jsx)(Ee.I,{className:je.input,value:null==r?void 0:r.lastname,placeholder:b("input lastname"),readonly:l,onChange:s}),(0,a.jsx)(Ee.I,{className:je.input,value:null==r?void 0:r.age,placeholder:b("input age"),readonly:l,onChange:c}),(0,a.jsx)(Ee.I,{className:je.input,value:null==r?void 0:r.city,placeholder:b("input city"),readonly:l,onChange:d}),(0,a.jsx)(Ee.I,{className:je.input,value:null==r?void 0:r.username,placeholder:b("input username"),readonly:l,onChange:p}),(0,a.jsx)(Ee.I,{className:je.input,value:null==r?void 0:r.avatar,placeholder:b("input avatar"),readonly:l,onChange:f}),(0,a.jsx)(me,{className:je.input,value:null==r?void 0:r.country,readonly:l,onChange:v,direction:"top right"}),(0,a.jsx)(Oe,{className:je.input,value:null==r?void 0:r.currency,readonly:l,onChange:h,direction:"top right"})]}))},Le=n(9704),Ne=n(6974),Pe=n(9553),Ae=n(4617),ke=n(8381),De=n(115),Ue=n(7553),ze=n(577),Me=function(){return Me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Me.apply(this,arguments)},_e=function(e){e.className;var t=(0,m.$G)("profile").t,n=(0,Le.v9)(c),r=(0,Le.v9)(ze.m5),o=(null==n?void 0:n.id)===(null==r?void 0:r.id),i=(0,Le.v9)(f),l=(0,Ae.T)(),u=(0,y.useCallback)((function(){l(g.setReadonly(!1))}),[l]),d=(0,y.useCallback)((function(){l(g.cancelEdit())}),[l]),p=(0,y.useCallback)((function(){l(s())}),[l]);return(0,a.jsxs)(ve.U,Me({justify:"between",max:!0},{children:[(0,a.jsx)(Se.xv,{title:t("profile page")}),o&&(0,a.jsx)(ve.U,{children:i?(0,a.jsx)(Ue.zx,Me({theme:Ue.Wu.OUTLINE,onClick:u},{children:t("edit")})):(0,a.jsxs)(ve.U,Me({gap:"8"},{children:[(0,a.jsx)(Ue.zx,Me({theme:Ue.Wu.OUTLINE,onClick:p},{children:t("Save")})),(0,a.jsx)(Ue.zx,Me({theme:Ue.Wu.OUTLINE_RED,onClick:d},{children:t("Cancel")}))]}))})]}))},Fe=function(){return Fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Fe.apply(this,arguments)},Ve={profile:x};const Ge=function(e){var t,n=e.className,l=(0,m.$G)("profile").t,u=(0,Le.v9)(i),s=(0,Le.v9)(p),c=(0,Le.v9)(d),h=(0,Ae.T)(),b=(0,Le.v9)(f),x=(0,Le.v9)(o),O=(0,Ne.UO)().id,C=((t={})[r.INCORRECT_AGE]=l("incorrect age"),t[r.INCORRECT_CITY]=l("incorrect  city"),t[r.INCORRECT_USER_DATA]=l("incorrect user data"),t[r.NO_DATA]=l("incorrect data"),t[r.SERVER_ERROR]=l("incorrect server error"),t);(0,ke.Q)((function(){O&&h(v(O))}));var E=(0,y.useCallback)((function(e){h(g.updateProfile({first:e||""}))}),[h]),T=(0,y.useCallback)((function(e){h(g.updateProfile({lastname:e||""}))}),[h]),S=(0,y.useCallback)((function(e){h(g.updateProfile({age:Number((null==e?void 0:e.replace(/\D/gi,""))||0)}))}),[h]),j=(0,y.useCallback)((function(e){h(g.updateProfile({city:e||""}))}),[h]),I=(0,y.useCallback)((function(e){h(g.updateProfile({username:e||""}))}),[h]),w=(0,y.useCallback)((function(e){h(g.updateProfile({avatar:e||""}))}),[h]),L=(0,y.useCallback)((function(e){h(g.updateProfile({currency:e}))}),[h]),N=(0,y.useCallback)((function(e){h(g.updateProfile({country:e}))}),[h]);return(0,a.jsx)(Pe.W,Fe({reducers:Ve,removeAfterUnmount:!0},{children:(0,a.jsx)(De.T,Fe({className:(0,R.A)("",{},[n])},{children:(0,a.jsxs)(ve.g,Fe({gap:"16"},{children:[(0,a.jsx)(_e,{}),(null==x?void 0:x.length)&&x.map((function(e){return(0,a.jsx)(Se.xv,{theme:Se.lg.ERROR,text:C[e]},e)})),(0,a.jsx)(we,{data:u,isLoading:s,error:c,readonly:b,onChangeFirst:E,onChangeLastname:T,onChangeAge:S,onChangeCity:j,onChangeUsername:I,onChangeAvatar:w,onChangeCurrency:L,onChangeCountry:N})]}))}))}))}},9553:(e,t,n)=>{n.d(t,{W:()=>i});var r=n(5893),a=n(7294),o=n(9704),i=function(e){var t=e.children,n=e.reducers,i=e.removeAfterUnmount,l=void 0===i||i,u=(0,o.oR)(),s=(0,o.I0)();return(0,a.useEffect)((function(){var e=u.reducerManager.getReducerMap();return Object.entries(n).forEach((function(t){var n=t[0],r=t[1];e[n]||(u.reducerManager.add(n,r),s({type:"@INIT ".concat(n," reducer")}))})),function(){l&&Object.entries(n).forEach((function(e){var t=e[0];e[1],u.reducerManager.remove(t),s({type:"@DESTROY ".concat(t," reducer")})}))}}),[]),(0,r.jsx)(r.Fragment,{children:t})}},3083:(e,t,n)=>{n.d(t,{I:()=>u});var r=n(5893),a=n(3838),o=n(7294);var i=n(6747),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)},u=(0,o.memo)((function(e){var t,n=e.className,o=e.value,u=void 0===o?"":o,s=e.onChange,c=e.type,d=void 0===c?"text":c,p=e.placeholder,f=e.readonly,v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["className","value","onChange","type","placeholder","readonly"]),h=((t={}).fTN1P=f,t);return(0,r.jsxs)(i.g,l({gap:"4",max:!0,className:(0,a.A)("LuFDU",h,[n])},{children:[(0,r.jsx)("div",{children:p}),(0,r.jsx)("input",l({type:d,onChange:function(e){null==s||s(e.target.value)},className:"X8EVb",placeholder:p,value:u,readOnly:f},v))]}))}))}}]);